{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "KASPER MLX Spiritual Insight Schema",
  "description": "Complete schema for training KASPER MLX with thousands of spiritual insights",
  "version": "1.0.0",
  "definitions": {
    "SpiritualInsight": {
      "type": "object",
      "required": ["id", "number", "category", "content", "confidence", "themes", "metadata"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for this insight",
          "pattern": "^[a-z0-9_-]+$"
        },
        "number": {
          "type": "integer",
          "minimum": 1,
          "maximum": 44,
          "description": "Numerological number (1-9, 11, 22, 33, 44)"
        },
        "category": {
          "type": "string",
          "enum": ["insight", "reflection", "contemplation", "manifestation"],
          "description": "Type of spiritual guidance"
        },
        "content": {
          "type": "string",
          "minLength": 10,
          "maxLength": 500,
          "description": "The actual insight text"
        },
        "confidence": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "AI confidence in insight quality (0.0-1.0)"
        },
        "themes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "maxItems": 5,
          "description": "Key spiritual themes in this insight"
        },
        "astrologicalContext": {
          "$ref": "#/definitions/AstrologicalContext"
        },
        "metadata": {
          "$ref": "#/definitions/InsightMetadata"
        }
      }
    },
    "AstrologicalContext": {
      "type": "object",
      "properties": {
        "planet": {
          "type": "string",
          "enum": ["Sun", "Moon", "Mercury", "Venus", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto"],
          "description": "Ruling planet for this number"
        },
        "sign": {
          "type": "string",
          "enum": ["Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", "Libra", "Scorpio", "Sagittarius", "Capricorn", "Aquarius", "Pisces"],
          "description": "Associated zodiac sign"
        },
        "element": {
          "type": "string",
          "enum": ["Fire", "Earth", "Air", "Water"],
          "description": "Elemental correspondence"
        },
        "modality": {
          "type": "string",
          "enum": ["Cardinal", "Fixed", "Mutable"],
          "description": "Astrological modality"
        }
      }
    },
    "InsightMetadata": {
      "type": "object",
      "required": ["created", "source", "validated", "qualityScore"],
      "properties": {
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of creation"
        },
        "source": {
          "type": "string",
          "enum": ["grok_4_generation", "human_curated", "claude_generated", "hybrid_creation"],
          "description": "Source of this insight"
        },
        "validated": {
          "type": "boolean",
          "description": "Has this insight been spiritually validated?"
        },
        "qualityScore": {
          "type": "number",
          "minimum": 1.0,
          "maximum": 10.0,
          "description": "Quality rating (1-10 scale)"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Additional categorization tags"
        }
      }
    },
    "TrainingBatch": {
      "type": "object",
      "required": ["batchId", "number", "totalInsights", "categories", "archetype", "insights"],
      "properties": {
        "batchId": {
          "type": "string",
          "description": "Unique identifier for this training batch"
        },
        "number": {
          "type": "integer",
          "minimum": 1,
          "maximum": 44,
          "description": "Numerological number for this batch"
        },
        "totalInsights": {
          "type": "integer",
          "minimum": 1,
          "description": "Total number of insights in this batch"
        },
        "categories": {
          "type": "object",
          "properties": {
            "insights": {
              "type": "integer",
              "minimum": 0
            },
            "reflections": {
              "type": "integer", 
              "minimum": 0
            },
            "contemplations": {
              "type": "integer",
              "minimum": 0
            },
            "manifestations": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        "archetype": {
          "type": "string",
          "description": "The archetypal name for this number (e.g., 'The Leader', 'The Diplomat')"
        },
        "coreThemes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Central spiritual themes for this number"
        },
        "planetaryRuler": {
          "type": "string",
          "description": "Primary ruling planet"
        },
        "astrologicalSign": {
          "type": "string",
          "description": "Primary associated zodiac sign"
        },
        "element": {
          "type": "string",
          "enum": ["Fire", "Earth", "Air", "Water"],
          "description": "Elemental correspondence"
        },
        "insights": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SpiritualInsight"
          },
          "description": "Array of all insights in this batch"
        }
      }
    },
    "ContextEnhancement": {
      "type": "object",
      "properties": {
        "userState": {
          "type": "string",
          "enum": ["anxious", "excited", "reflective", "motivated", "confused", "peaceful", "restless", "grateful"],
          "description": "Current emotional/mental state of user"
        },
        "timeContext": {
          "type": "string",
          "enum": ["morning", "afternoon", "evening", "late_night"],
          "description": "Time of day for contextual relevance"
        },
        "situation": {
          "type": "string",
          "enum": ["journal_entry", "daily_card", "crisis_guidance", "celebration", "meditation", "decision_making"],
          "description": "Specific use case for the insight"
        },
        "personalization": {
          "type": "object",
          "properties": {
            "userFocusNumber": {
              "type": "integer",
              "minimum": 1,
              "maximum": 44
            },
            "userRealmNumber": {
              "type": "integer",
              "minimum": 1,
              "maximum": 44
            },
            "recentInteractions": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["positive_feedback", "negative_feedback", "requested_deeper_insight", "requested_practical_guidance"]
              }
            }
          }
        }
      }
    }
  },
  "type": "object",
  "oneOf": [
    {
      "$ref": "#/definitions/SpiritualInsight",
      "title": "Single Spiritual Insight"
    },
    {
      "$ref": "#/definitions/TrainingBatch", 
      "title": "Training Batch of Insights"
    }
  ]
}