# KASPER MLX Release Cards - PyTest Configuration
# Configures test markers and execution settings

[pytest]
minversion = 6.0
testpaths = tests
python_files = test_*.py
python_functions = test_*
python_classes = Test*

# Test markers for selective execution
markers = 
    structural: hard, CI-required checks
    heuristic: soft, advisory checks
    integration: Full system integration tests
    performance: Performance benchmarking tests
    slow: Slow-running tests that can be skipped in development

# Default test discovery and output settings
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --color=yes
    -ra

# Timeout settings for long-running tests
timeout = 300

# Filter out common warnings that don't affect functionality
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:pkg_resources

# Test result reporting
junit_family = xunit2

# Coverage settings (if needed in future)
# [tool:coverage:run]
# source = .
# omit = 
#     tests/*
#     venv/*
#     .venv/*